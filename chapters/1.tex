\chapter[Hypergraph categories: the algebra of interconnection]{Hypergraph
categories: the algebra of interconnection} \label{ch.hypcats}

In this chapter we introduce hypergraph categories, giving a definition,
coherence theorem, and graphical language. We then explore a fundamental example
of hypergraph categories: categories of cospans.

We motivate hypergraph categories as a structure that
captures interconnection in network-style diagrammatic languages. Following this
We assume basic familiarity with category theory and symmetric monoidal
categories; although we give a sparse overview of the latter for reference. A
proper introduction to both can be found in Mac Lane \cite{Mac98}.

\section{The algebra of interconnection}

Our aim is to algebraicise network diagrams. A network diagram is built from
pieces like so:
\[
  \begin{tikzpicture}
    \node [thick, circle, draw] (0) at (0, -0) {};
    \node [style=none] (1) at (-0.75, 1.5) {};
    \node [style=none] (2) at (-1.75, -0) {};
    \node [style=none] (3) at (-0.75, -1.75) {};
    \node [style=none] (4) at (1.25, -1.5) {};
    \node [style=none] (5) at (1.75, 0.75) {};
    \draw (0) to (5);
    \draw [dashed] (0) to (4);
    \draw (0) to (3);
    \draw [line width=2pt, draw=gray] (0) to (2);
    \draw (0) to (1);
  \end{tikzpicture}
\]
These represent open systems, concrete or abstract; for example a resistor, a
chemical reaction, or a linear transformation. The essential feature, for
openness and for networking, is that the system may have terminals, perhaps of
different types, each one depicted by a line radiating from the central body.
In the case of a resistor each terminal might represent a wire, for chemical
reactions a chemical species, for linear transformations a variable in the
domain or codomain.  Network diagrams are formed by connecting terminals of
systems to build larger systems.

A network-style diagrammatic language is a collection of network diagrams
together with the stipulation that if we take some of these network diagrams,
and connect terminals of the same type in any way we like, then we form
another diagram in the collection.  The point of this chapter is that hypergraph
categories provide a precise formalisation of network-style diagrammatic
languages.  

\begin{figure}
\[
\begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [thick, circle, draw] (0) at (0, -0) {};
		\node [style=none] (1) at (-0.75, 1.5) {};
		\node [style=none] (2) at (-1.75, -0) {};
		\node [style=none] (3) at (-0.75, -1.75) {};
		\node [style=none] (4) at (1.25, -1.5) {};
		\node [style=none] (5) at (1.75, 0.75) {};
		\node [thick, circle, draw=gray, fill=gray] (6) at (-1, -4.25) {};
		\node [style=none] (7) at (-1, -2.5) {};
		\node [style=none] (8) at (0.25, -5) {};
		\node [style=none] (9) at (-2.25, -4.5) {};
		\node [style=none] (10) at (0.5, -2.75) {};
		\node [thick, circle, draw=gray, fill=gray] (11) at (3.5, -3.75) {};
		\node [style=none] (12) at (3.5, -2.25) {};
		\node [style=none] (13) at (2, -4) {};
		\node [style=none] (14) at (4.25, -5) {};
		\node [thick, circle, draw, fill=black] (15) at (4, -0) {};
		\node [style=none] (16) at (2.5, 0.75) {};
		\node [style=none] (17) at (2.5, -0) {};
		\node [style=none] (18) at (3.75, -1.75) {};
		\node [style=none] (19) at (2, -2.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0) to (5);
		\draw [dashed] (0) to (4);
		\draw (0) to (3);
		\draw [line width=2pt, draw=gray] (0) to (2);
		\draw (0) to (1);
		\draw (6) to (7);
		\draw [line width=2pt, draw=gray] (6) to (9);
		\draw [dashed] (6) to (10);
		\draw [dotted] (6) to (8);
		\draw [dotted] (11) to (13);
		\draw [line width=2pt, draw=gray] (11) to (12);
		\draw (11) to (14);
		\draw [line width=2pt, draw=gray] (15) to (18);
		\draw (15) to (17);
		\draw (15) to (16);
		\draw [dashed] (11) to (19);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\qquad
\Rightarrow
\qquad
\begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [draw, circle, thick] (0) at (0, -0) {};
		\node [style=none] (1) at (-0.75, 1.5) {};
		\node [style=none] (2) at (-1.75, -0) {};
		\node [style=none] (3) at (1.25, -0.25) {};
		\node [draw=gray, circle, thick, fill=gray] (4) at (-0.25, -3) {};
		\node [style=none] (5) at (1.25, -3.5) {};
		\node [style=none] (6) at (-1.5, -3.25) {};
		\node [draw=gray, circle, thick, fill=gray] (7) at (2.75, -2.25) {};
		\node [style=none] (8) at (3.5, -3.5) {};
		\node [draw, circle, thick, fill=black] (9) at (2.5, -0.5) {};
		\node [style=none] (10) at (1, -1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0) to (3);
		\draw [line width=2pt, draw=gray] (0) to (2);
		\draw (0) to (1);
		\draw [line width=2pt, draw=gray] (4) to (6);
		\draw [dotted] (4) to (7);
		\draw (7) to (8);
		\draw [dashed] (0) to (10);
		\draw [dashed] (4) to (10);
		\draw [dashed] (7) to (10);
		\draw [bend right, looseness=1.25] (9) to (3);
		\draw [bend left, looseness=1.25] (9) to (3);
		\draw [line width=2pt, draw=gray] (9) to (7);
		\draw (0) to (4);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\]
\caption{Interconnection of network diagrams. Note that we only connect
terminals of the same type, but we can connect as many as we like.}
\end{figure}

In jargon, a hypergraph category is a symmetric monoidal category in
which every object is equipped with a special commutative Frobenius monoid in a
way compatible with the monoidal product. We will walk through these terms in
detail, illustrating them with examples and a few theorems. 

The key data comprising a hypergraph category are its objects, morphisms,
composition rule, monoidal product, and Frobenius maps. Each of these model a
feature of network diagrams and their interconnection. The objects model the
terminal types, while the morphisms model the network diagrams themselves. The
composition, monoidal product, and Frobenius maps model different aspects of
interconnection: composition models the interconnection of two terminals of the
same type, the monoidal product models the network formed by taking two networks
without interconnecting any terminals, while the Frobenius maps model
multi-terminal interconnection.

These Frobenius maps are the distinguishing feature of hypergraph categories as
compared to other structured monoidal categories, and are crucial for
formalising the intuitive concept of network languages detailed above. In the
case of electric circuits the Frobenius maps model the `branching' of wires; in
the case when diagrams simply model an abstract system of equations and
terminals variables in these equations, the Frobenius maps allow variables to be
shared between many systems of equations.

Examining these correspondences, it is worthwhile to ask whether hypergraph
categories permit too much structure to be specified, given that interconnection
is now divided into three different aspects---composition, monoidal product, and
Frobenius maps---, and features such as domains and codomains of network
diagrams, rather than just a collection of terminals, exist. The answer is given
by examining the additional coherence laws that these data must obey. For
example, in the case of the domain and codomain, we shall see that hypergraph
categories are all compact closed categories, and so there is ultimately only a
formal distinction between domain and codomain objects. One way to think of
these data is as scaffolding. We could compare it to the use of matrices and
bases to provide language for talking about linear transformations and vector
spaces.  They are not part of the target structure, but nonetheless useful
paraphenalia for constructing it.

\begin{figure}
  \begin{center}
  \begin{tabular}{c|c}
    Networks & Hypergraph categories \\
    \hline 
    list of terminal types & object \\
    network diagram & morphism \\
    series connection & composition \\
    juxtaposition & monoidal product \\
    branching & Frobenius maps
  \end{tabular}
  \end{center}
  \caption{Corresponding features of networks and hypergraph categories.}
\end{figure}

Network languages are not only syntactic entities: as befitting the descriptor
`language', they typically have some associated semantics. Circuits diagrams, for
instance, not only depict wire circuits that may be constructed, they also
represent the electrical behaviour of that circuit. Such semantics considers the
circuits 
\[
  \begin{aligned}
  \begin{tikzpicture}[circuit ee IEC, set resistor graphic=var resistor IEC graphic]
    \node[contact] (I1) at (0,0) {};
    \node[circle, minimum width = 3pt, inner sep = 0pt, fill=black] (int) at (3,0) {};
    \node[contact] (O1) at (6,0) {};
    \draw (I1) 	to [resistor] node [label={[label distance=3pt]90:{$1 \Omega$}}] {} (int)
    to [resistor] node [label={[label distance=3pt]90:{$1 \Omega$}}] {} (O1);
  \end{tikzpicture}
  \end{aligned}
  \qquad
  \mbox{and}
  \qquad
  \begin{aligned}
  \begin{tikzpicture}[circuit ee IEC, set resistor graphic=var resistor IEC graphic]
    \node[contact] (I1) at (0,0) {};
    \node[contact] (O1) at (3,0) {};
    \draw (I1) 	to [resistor] node [label={[label distance=3pt]90:{$2 \Omega$}}]
    {} (O1);
  \end{tikzpicture}
  \end{aligned}
\]
the same, even though as `syntactic' diagrams they are distinct. A cornerstone
of the utility of the hypergraph formalism is the ability to also realise the
semantics of these diagrams as morphisms of another hypergraph category. This
`semantic' hypergraph category, as a hypergraph category, still permits the rich
`networking' interconnection structure, and a so-called hypergraph functor
implies that the syntactic category provides a sound framework for depicting
these morphisms. Network languages syntactically are often `free' hypergraph
categories, and much of the interesting structure lies in their functors to
their semantic hypergraph categories.


\section{Symmetric monoidal categories}
Suppose we have some tiles with inputs and outputs of various types like so:
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -1.375) {};
		\node [style=none] (3) at (0.5, -1.375) {};
		\node [style=none] (4) at (0.5, 0.25) {};
		\node [style=none] (5) at (0.5, -1.25) {};
		\node [style=none] (6) at (1.25, 0.25) {};
		\node [style=none] (7) at (1.25, -1.25) {};
		\node [style=none] (8) at (0.125, -0.5) {$f$};
		\node [style=none] (9) at (1.5, 0.25) {$Y_1$};
		\node [style=none] (10) at (1.5, -1.25) {$Y_m$};
		\node [style=none] (11) at (1.25, -0.25) {};
		\node [style=none] (12) at (1.5, -0.25) {$Y_2$};
		\node [style=none] (13) at (0.5, -0.25) {};
		\node [style=none] (14) at (1, -0.75) {$\vdots$};
		\node [style=none] (15) at (-1, -1.25) {};
		\node [style=none] (16) at (-0.25, -1.25) {};
		\node [style=none] (17) at (-0.75, -0.75) {$\vdots$};
		\node [style=none] (18) at (-1.25, -1.25) {$X_n$};
		\node [style=none] (19) at (-0.25, -0.25) {};
		\node [style=none] (20) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (21) at (-1, 0.25) {};
		\node [style=none] (22) at (-0.25, 0.25) {};
		\node [style=none] (23) at (-1, -0.25) {};
		\node [style=none] (24) at (-1.25, -0.25) {$X_2$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (6.center);
		\draw (5.center) to (7.center);
		\draw (13.center) to (11.center);
		\draw (22.center) to (21.center);
		\draw (16.center) to (15.center);
		\draw (19.center) to (23.center);
	\end{pgfonlayer}
\end{tikzpicture}
\]
These tiles may vary in height and width. We can place these tiles above and
below each other, and to the left and right, so long as the inputs on the right
tile match the outputs on the left. Suppose also that some arrangements of tiles
are equal to other arrangements of tiles. How do we formalise this structure
algebraically? The theory of monoidal categories provides an answer. 

This is of relevance to us as hypergraph categories are first monoidal
categories, indeed symmetric monoidal categories.  Monoidal categories are
categories with two notions of composition: ordinary categorical composition and
monoidal composition, with the monoidal composition only associative and unital
up to natural isomorphism. They are the algebra of processes that may occur
simultaneously as well as sequentially.  First defined by B\'enabou and Mac Lane
in the 1960s \cite{Ben63, Mac63}, their theory and their links with graphical
representation are well explored \cite{JS91, Sel11}. We bootstrap on this, using
monoidal categories to define hypergraph categories, and so immediately arriving
at an understanding of how hypergraph categories formalise our network
languages. 

Moreover, symmetric monoidal functors play a key role in our framework for
defining and working with hypergraph categories: decorated cospans and
corelations. We thus use the next section to provide, for quick reference, a
definition of symmetric monoidal categories.


\subsection{Monoidal categories}
A \define{monoidal category} $(\c, \ot)$ consists of a category $\c$, a
functor $\ot: \c \times \c \to \c$, a distinguished object $I$, and natural
isomorphisms $\a_{A,B,C}: (A \ot B) \ot C \to A \ot (B \ot C)$,
$\rho_A: A \ot I  \to A$, and $\lambda_A: I \ot A \to A$ such that for all
$A,B,C,D$ in $\mc C$ the following two diagrams commute: 
\[
  \xymatrixcolsep{3pc}
  \xymatrix{
    \big((A \ot B) \ot C\big) \ot D \ar[d]_{\a_{A,B,C}\ot\idn_D} \ar[rr]^{\a_{(A\ot B),C,D}} 
    &&(A \ot B) \ot (C \ot D) \ar[d]^{\a_{A,B,(C\ot D)}} \\
    \big(A \ot (B\ot C)\big) \ot D \ar[r]_{\a_{A,(B\ot C),D}} 
    & A\ot\big((B \ot C)\ot D\big)\ar[r]_{\idn_A \ot \a_{B,C,D}}
    &A \ot \big(B \ot (C \ot D)\big)
  }
\]
\[
  \xymatrix{
    (A\ot I)\ot B  \ar[rr]^{\a_{A,I,B}} \ar[dr]_{\rho_{A}\ot \idn_B} && A \ot (I \ot B) \ar[dl]^{\idn_A\ot \lambda_B}\\
    & A \ot B \\
  }
\]
We call $\ot$ the \define{monoidal product}, $I$ the \define{monoidal unit},
$\alpha$ the \define{associator}, $\rho$ and $\lambda$ the \define{right} and
\define{left unitor} respectively. The associator and unitors are known
collectively as the \define{coherence maps}.

By Mac Lane's coherence theorem, these two axioms are equivalent to requiring
that `all formal diagrams'---that is, all diagrams in which the morphism are
built from identity morphisms and the coherence maps using composition and the
monoidal product---commute. Consequently, between any two products of the same
ordered list of objects up to instances of the monoidal unit, such as $((A \ot
I) \ot B) \ot C$ and $A \ot ((B \ot C) \ot (I \ot I))$, there is a unique
so-called \define{canonical} map. See Mac Lane \cite[Corollary of Theorem
VII.2.1]{Mac98} for a precise statement and proof.

A \define{lax monoidal functor} $(F, \varphi): (\c,\otimes) \to (\c',\boxtimes)$
between monoidal categories consists of a functor $F: \c \to \c'$, and natural
transformations $\varphi_{A,B}: FA \boxtimes FB \to F(A \ot B)$ and $\varphi_I:
I' \to FI$, such that for all $A,B,C \in \c$ the three diagrams
\[
  \xymatrixcolsep{4pc}
  \xymatrix{
    (FA \ot FB) \ot FC \ar[d]_{\a_{FA,FB,FC}} \ar[r]^{\varphi_{A,B} \ot \idn_{FC}} &
    F(A \ot B) \ot FC \ar[r]^{\varphi_{A\ot B,C}} & F((A \ot B) \ot C) \ar[d]^{F\a_{A,B,C}}\\
    FA \ot (FB \ot FC) \ar[r]_{\idn_{FA} \ot \varphi_{B,C}} & FA \ot F(B \ot C)
    \ar[r]_{\varphi_{A,B\ot C}} & F(A \ot (B \ot C))
  }
\]
\[
  \xymatrixcolsep{3pc}
  \xymatrixrowsep{3pc}
  \xymatrix{
    F(A) \ot I' \ar[d]_{\idn \ot \varphi_I} \ar[r]^{\rho} & F(A) \\
    F(A) \ot F(I) \ar[r]_{\varphi_{A,I}} & F(A \ot I) \ar[u]_{F\rho} 
  }
  \qquad
  \xymatrix{
    I' \ot F(A) \ar[d]_{\varphi_I \ot \idn} \ar[r]^{\lambda} & F(A) \\
    F(I) \ot F(A) \ar[r]_{\varphi_{I,A}} & F(I \ot A) \ar[u]_{F\lambda} 
  }
\]
commute. We further say a monoidal functor is a \define{strong monoidal functor}
if the $\varphi$ are isomorphisms, and a \define{strict monoidal functor} if the
$\varphi$ are identities. 

A \define{monoidal natural transformation} $\theta: (F,\varphi) \Rightarrow
(G,\gamma)$ between two monoidal functors $F$ and $G$ is a natural
transformation $\theta: F \Rightarrow G$ such that
\[
  \begin{aligned}
    \xymatrix{
      FI_{\c} \ar[rr]^{\theta_I}&& GI_{\c} \\
      & I_{\c'} \ar[ul]^{\varphi_I} \ar[ur]_{\gamma_I}
    } 
  \end{aligned} 
  \qquad 
  \mbox{and}
  \qquad
  \begin{aligned}
    \xymatrixcolsep{3pc}
    \xymatrixrowsep{3pc}
    \xymatrix{
      FA \boxtimes FB \ar[r]^{\theta_A \ot \theta_B} \ar[d]_{\varphi_{A,B}} 
      & GA \boxtimes GB \ar[d]^{\gamma_{A,B}}\\
      F(A \ot B) \ar[r]_{\theta_{A\ot B}} & G(A \ot B)
    }
  \end{aligned} 
\]
commute for all objects $A,B$.

Two monoidal categories $\mc C, \mc D$ are \define{monoidally equivalent} if
there exist strong monoidal functors $F\maps \mc C \to \mc D$ and $G\maps \mc D
\to \mc C$ such that the composites $FG$ and $GF$ are monoidally naturally
isomorphic to the identity functors. (Note that identity functors are
immediately strict monoidal functors.)

\subsection{String diagrams}
A \define{strict monoidal category} category is a monoidal category in which the
associators and unitors are all identity maps. In this case then any two objects
that can be related by associators and unitors are equal, and so we may write
objects without parentheses and units without ambiguity. An equivalent statement
of Mac Lane's coherence theorem is that every monoidal category is monoidally
equivalent to strict monoidal category. 

Yet another equivalent statement of the coherence theorem is the existence of a
graphical calculus for monoidal categories. As discussed above, monoidal
categories figure strongly in our current investigations precisely because of
this. We leave the details to discussions elsewhere, such as Selinger's survey
\cite{Sel11} or the original work of Joyal and Street \cite[Theorem 1.2]{JS91}.
The main point is that we shall be free to assume our monoidal categories are
strict, writing $X_1 \otimes X_2 \otimes \dots \otimes X_n$ for objects in
$(\mathcal C,\otimes)$ without a care for parentheses. We then depict a morphism
$f\maps X_1 \otimes X_2 \otimes \dots \otimes X_n \to Y_1 \otimes Y_2 \otimes
\dots \otimes Y_n$ with the diagram:
\[
  f \quad = \quad
  \begin{aligned}
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -1.375) {};
		\node [style=none] (3) at (0.5, -1.375) {};
		\node [style=none] (4) at (0.5, 0.25) {};
		\node [style=none] (5) at (0.5, -1.25) {};
		\node [style=none] (6) at (1.25, 0.25) {};
		\node [style=none] (7) at (1.25, -1.25) {};
		\node [style=none] (8) at (0.125, -0.5) {$f$};
		\node [style=none] (9) at (1.5, 0.25) {$Y_1$};
		\node [style=none] (10) at (1.5, -1.25) {$Y_m$};
		\node [style=none] (11) at (1.25, -0.25) {};
		\node [style=none] (12) at (1.5, -0.25) {$Y_2$};
		\node [style=none] (13) at (0.5, -0.25) {};
		\node [style=none] (14) at (1, -0.75) {$\vdots$};
		\node [style=none] (15) at (-1, -1.25) {};
		\node [style=none] (16) at (-0.25, -1.25) {};
		\node [style=none] (17) at (-0.75, -0.75) {$\vdots$};
		\node [style=none] (18) at (-1.25, -1.25) {$X_n$};
		\node [style=none] (19) at (-0.25, -0.25) {};
		\node [style=none] (20) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (21) at (-1, 0.25) {};
		\node [style=none] (22) at (-0.25, 0.25) {};
		\node [style=none] (23) at (-1, -0.25) {};
		\node [style=none] (24) at (-1.25, -0.25) {$X_2$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (6.center);
		\draw (5.center) to (7.center);
		\draw (13.center) to (11.center);
		\draw (22.center) to (21.center);
		\draw (16.center) to (15.center);
		\draw (19.center) to (23.center);
	\end{pgfonlayer}
\end{tikzpicture}.
\end{aligned}
\]
Identity morphisms are depicted by so-called strings or wires:
\[
  \idn_X \quad = \quad
  \begin{aligned}
    \tikzset{every path/.style={line width=1.1pt}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (1.25, 0.25) {};
		\node [style=none] (1) at (1.5, 0.25) {$X$};
		\node [style=none] (2) at (-1.25, 0.25) {$X$};
		\node [style=none] (3) at (-1, 0.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (3.center) to (0.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\]
and the monoidal unit is not depicted at all:
\[
\idn_I\quad = \quad
  \begin{aligned}
    \tikzset{every path/.style={line width=1.1pt}}
\begin{tikzpicture}
		\node [style=none] (1) at (1.5, 0.25) {};
		\node [style=none] (2) at (-1.25, 0.25) {};
\end{tikzpicture}
\end{aligned}
\]
Composition of morphisms is depicted by connecting the relevant wires:
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.25, -0) {$Y_1$};
		\node [style=none] (1) at (0.5, -0) {};
		\node [style=none] (2) at (2.75, -0.75) {};
		\node [style=none] (3) at (3, -0.75) {$Y_2$};
		\node [style=none] (4) at (0.5, -0.75) {};
		\node [style=none] (5) at (2, -0.365) {};
		\node [style=none] (6) at (2.75, 0.25) {};
		\node [style=none] (7) at (3, 0.25) {$Z_1$};
		\node [style=none] (8) at (1.25, 0.375) {};
		\node [style=none] (9) at (1.25, -0) {};
		\node [style=none] (10) at (1.25, -0.365) {};
		\node [style=none] (11) at (2, 0.25) {};
		\node [style=none] (12) at (2, 0.375) {};
		\node [style=none] (13) at (1.625, -0) {$g$};
		\node [style=none] (14) at (2, -0.25) {};
		\node [style=none] (15) at (2.75, -0.25) {};
		\node [style=none] (16) at (3, -0.25) {$Z_2$};
		\node [style=none] (17) at (0.25, -0.75) {$Y_2$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (4.center) to (2.center);
		\draw (8.center) to (12.center);
		\draw (5.center) to (10.center);
		\draw (11.center) to (6.center);
		\draw (12.center) to (5.center);
		\draw (10.center) to (8.center);
		\draw (14.center) to (15.center);
		\draw (1.center) to (9.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
  \circ
  \begin{aligned}
  \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -.875) {};
		\node [style=none] (3) at (0.5, -.875) {};
		\node [style=none] (4) at (0.5, 0.125) {};
		\node [style=none] (5) at (1.25, 0.125) {};
		\node [style=none] (6) at (0.125, -0.25) {$f$};
		\node [style=none] (7) at (1.5, 0.125) {$Y_1$};
		\node [style=none] (8) at (1.25, -0.625) {};
		\node [style=none] (9) at (1.5, -0.625) {$Y_2$};
		\node [style=none] (10) at (0.5, -0.625) {};
		\node [style=none] (11) at (-0.25, -0.75) {};
		\node [style=none] (12) at (-1.25, -0.75) {$X_3$};
		\node [style=none] (13) at (-0.25, -0.25) {};
		\node [style=none] (14) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (15) at (-1, 0.25) {};
		\node [style=none] (16) at (-0.25, 0.25) {};
		\node [style=none] (17) at (-1, -0.25) {};
		\node [style=none] (18) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (19) at (-1, -0.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (5.center);
		\draw (10.center) to (8.center);
		\draw (16.center) to (15.center);
		\draw (13.center) to (17.center);
		\draw (11.center) to (19.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\quad = \quad
\begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -0.875) {};
		\node [style=none] (3) at (0.5, -0.875) {};
		\node [style=none] (4) at (0.5, 0.125) {};
		\node [style=none] (5) at (0.125, -0.25) {$f$};
		\node [style=none] (6) at (2.75, -0.625) {};
		\node [style=none] (7) at (3, -0.625) {$Y_2$};
		\node [style=none] (8) at (0.5, -0.625) {};
		\node [style=none] (9) at (-0.25, -0.75) {};
		\node [style=none] (10) at (-1.25, -0.75) {$X_3$};
		\node [style=none] (11) at (-0.25, -0.25) {};
		\node [style=none] (12) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (13) at (-1, 0.25) {};
		\node [style=none] (14) at (-0.25, 0.25) {};
		\node [style=none] (15) at (-1, -0.25) {};
		\node [style=none] (16) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (17) at (-1, -0.75) {};
		\node [style=none] (18) at (2, -0.25) {};
		\node [style=none] (19) at (2.75, 0.375) {};
		\node [style=none] (20) at (3, 0.375) {$Z_1$};
		\node [style=none] (21) at (1.25, 0.5) {};
		\node [style=none] (22) at (1.25, 0.125) {};
		\node [style=none] (23) at (1.25, -0.25) {};
		\node [style=none] (24) at (2, 0.375) {};
		\node [style=none] (25) at (2, 0.5) {};
		\node [style=none] (26) at (1.625, 0.125) {$g$};
		\node [style=none] (27) at (2, -0.125) {};
		\node [style=none] (28) at (2.75, -0.125) {};
		\node [style=none] (29) at (3, -0.125) {$Z_2$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (8.center) to (6.center);
		\draw (14.center) to (13.center);
		\draw (11.center) to (15.center);
		\draw (9.center) to (17.center);
		\draw (21.center) to (25.center);
		\draw (18.center) to (23.center);
		\draw (24.center) to (19.center);
		\draw (25.center) to (18.center);
		\draw (23.center) to (21.center);
		\draw (27.center) to (28.center);
		\draw (4.center) to (22.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\]
while monoidal composition is just juxtaposition:
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -0.375) {};
		\node [style=none] (3) at (0.5, -0.375) {};
		\node [style=none] (4) at (0.5, -0) {};
		\node [style=none] (5) at (1.25, -0) {};
		\node [style=none] (6) at (0.125, -0) {$h$};
		\node [style=none] (7) at (1.5, -0) {$Y_1$};
		\node [style=none] (8) at (-0.25, -0.25) {};
		\node [style=none] (9) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (10) at (-1, 0.25) {};
		\node [style=none] (11) at (-0.25, 0.25) {};
		\node [style=none] (12) at (-1, -0.25) {};
		\node [style=none] (13) at (-1.25, -0.25) {$X_2$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (5.center);
		\draw (11.center) to (10.center);
		\draw (8.center) to (12.center);
		\draw (1.center) to (3.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
  \ot \quad
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (1.5, -0.75) {$Y_2$};
		\node [style=none] (1) at (-0.25, -1.375) {};
		\node [style=none] (2) at (1.25, -0.75) {};
		\node [style=none] (3) at (1.5, -1.25) {$Y_3$};
		\node [style=none] (4) at (1.25, -1.25) {};
		\node [style=none] (5) at (0.125, -1) {$k$};
		\node [style=none] (6) at (0.5, -0.75) {};
		\node [style=none] (7) at (0.5, -1.375) {};
		\node [style=none] (8) at (-0.25, -0.625) {};
		\node [style=none] (9) at (0.5, -1.25) {};
		\node [style=none] (10) at (0.5, -0.625) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (8.center) to (10.center);
		\draw (6.center) to (2.center);
		\draw (9.center) to (4.center);
		\draw (10.center) to (7.center);
		\draw (7.center) to (1.center);
		\draw (8.center) to (1.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
  \quad = \quad
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -0.375) {};
		\node [style=none] (3) at (0.5, -0.375) {};
		\node [style=none] (4) at (0.5, -0) {};
		\node [style=none] (5) at (1.25, -0) {};
		\node [style=none] (6) at (0.125, -0) {$h$};
		\node [style=none] (7) at (1.5, -0) {$Y_1$};
		\node [style=none] (8) at (-0.25, -0.25) {};
		\node [style=none] (9) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (10) at (-1, 0.25) {};
		\node [style=none] (11) at (-0.25, 0.25) {};
		\node [style=none] (12) at (-1, -0.25) {};
		\node [style=none] (13) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (14) at (0.5, -0.75) {};
		\node [style=none] (15) at (1.25, -0.75) {};
		\node [style=none] (16) at (0.125, -1) {$k$};
		\node [style=none] (17) at (0.5, -0.625) {};
		\node [style=none] (18) at (-0.25, -1.375) {};
		\node [style=none] (19) at (1.5, -1.25) {$Y_3$};
		\node [style=none] (20) at (0.5, -1.25) {};
		\node [style=none] (21) at (-0.25, -0.625) {};
		\node [style=none] (22) at (1.25, -1.25) {};
		\node [style=none] (23) at (1.5, -0.75) {$Y_2$};
		\node [style=none] (24) at (0.5, -1.375) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (5.center);
		\draw (11.center) to (10.center);
		\draw (8.center) to (12.center);
		\draw (21.center) to (17.center);
		\draw (14.center) to (15.center);
		\draw (20.center) to (22.center);
		\draw (1.center) to (3.center);
		\draw (21.center) to (18.center);
		\draw (17.center) to (24.center);
		\draw (24.center) to (18.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\]

Only the `topology' of the diagrams matters: if two diagrams with the same
domain and codomain are equivalent up to isotopy, they represent the same
morphism.
On the other hand, two algebraic expressions might have the same diagrammatic
representation. For example, the equivalent diagrams
\[
    \tikzset{every path/.style={line width=1.1pt}}
\begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -0.875) {};
		\node [style=none] (3) at (0.5, -0.875) {};
		\node [style=none] (4) at (0.5, 0.125) {};
		\node [style=none] (5) at (0.125, -0.25) {$f$};
		\node [style=none] (6) at (2.75, -0.625) {};
		\node [style=none] (7) at (3, -0.625) {$Y_2$};
		\node [style=none] (8) at (0.5, -0.625) {};
		\node [style=none] (9) at (-0.25, -0.75) {};
		\node [style=none] (10) at (-1.25, -0.75) {$X_3$};
		\node [style=none] (11) at (-0.25, -0.25) {};
		\node [style=none] (12) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (13) at (-1, 0.25) {};
		\node [style=none] (14) at (-0.25, 0.25) {};
		\node [style=none] (15) at (-1, -0.25) {};
		\node [style=none] (16) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (17) at (-1, -0.75) {};
		\node [style=none] (18) at (2, -0.25) {};
		\node [style=none] (19) at (2.75, 0.375) {};
		\node [style=none] (20) at (3, 0.375) {$Z_1$};
		\node [style=none] (21) at (1.25, 0.5) {};
		\node [style=none] (22) at (1.25, 0.125) {};
		\node [style=none] (23) at (1.25, -0.25) {};
		\node [style=none] (24) at (2, 0.375) {};
		\node [style=none] (25) at (2, 0.5) {};
		\node [style=none] (26) at (1.625, 0.125) {$g$};
		\node [style=none] (27) at (2, -0.125) {};
		\node [style=none] (28) at (2.75, -0.125) {};
		\node [style=none] (29) at (3, -0.125) {$Z_2$};
		\node [style=none] (30) at (1.25, -1.75) {};
		\node [style=none] (31) at (2, -1.625) {};
		\node [style=none] (32) at (2.75, -1.125) {};
		\node [style=none] (33) at (3, -1.625) {$Y_3$};
		\node [style=none] (34) at (2.75, -1.625) {};
		\node [style=none] (35) at (1.625, -1.375) {$k$};
		\node [style=none] (36) at (3, -1.125) {$Y_2$};
		\node [style=none] (37) at (2, -1.125) {};
		\node [style=none] (38) at (2, -1.75) {};
		\node [style=none] (39) at (2, -1) {};
		\node [style=none] (40) at (1.25, -1) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (8.center) to (6.center);
		\draw (14.center) to (13.center);
		\draw (11.center) to (15.center);
		\draw (9.center) to (17.center);
		\draw (21.center) to (25.center);
		\draw (18.center) to (23.center);
		\draw (24.center) to (19.center);
		\draw (25.center) to (18.center);
		\draw (23.center) to (21.center);
		\draw (27.center) to (28.center);
		\draw (4.center) to (22.center);
		\draw (40.center) to (39.center);
		\draw (37.center) to (32.center);
		\draw (31.center) to (34.center);
		\draw (39.center) to (38.center);
		\draw (38.center) to (30.center);
		\draw (40.center) to (30.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
  \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, 1) {};
		\node [style=none] (1) at (1, 1) {};
		\node [style=none] (2) at (0, -1.25) {};
		\node [style=none] (3) at (1, -1.25) {};
		\node [style=none] (4) at (1, -0.25) {};
		\node [style=none] (5) at (0.5, -0) {$f$};
		\node [style=none] (6) at (2.75, -0.5) {};
		\node [style=none] (7) at (3, -0.5) {$Y_2$};
		\node [style=none] (8) at (1, -0.75) {};
		\node [style=none] (9) at (0, -0.75) {};
		\node [style=none] (10) at (-1.25, -0.75) {$X_3$};
		\node [style=none] (11) at (0, -0.25) {};
		\node [style=none] (12) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (13) at (-1, 0.25) {};
		\node [style=none] (14) at (0, 0.5) {};
		\node [style=none] (15) at (-1, -0.25) {};
		\node [style=none] (16) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (17) at (-1, -0.75) {};
		\node [style=none] (18) at (2, -0.25) {};
		\node [style=none] (19) at (2.75, 0.375) {};
		\node [style=none] (20) at (3, 0.375) {$Z_1$};
		\node [style=none] (21) at (1.5, 0.25) {};
		\node [style=none] (22) at (1.375, -0) {};
		\node [style=none] (23) at (1.25, -0.25) {};
		\node [style=none] (24) at (2, 0.375) {};
		\node [style=none] (25) at (2, 0.5) {};
		\node [style=none] (26) at (1.75, -0) {$g$};
		\node [style=none] (27) at (2, -0.125) {};
		\node [style=none] (28) at (2.75, -0.125) {};
		\node [style=none] (29) at (3, -0.125) {$Z_2$};
		\node [style=none] (30) at (-0.5, -2.5) {};
		\node [style=none] (31) at (0.25, -1.75) {};
		\node [style=none] (32) at (2.75, -1.5) {};
		\node [style=none] (33) at (3, -1.75) {$Y_3$};
		\node [style=none] (34) at (2.75, -1.75) {};
		\node [style=none] (35) at (-0.125, -1.75) {$k$};
		\node [style=none] (36) at (3, -1.5) {$Y_2$};
		\node [style=none] (37) at (0.25, -1.5) {};
		\node [style=none] (38) at (0.25, -2.25) {};
		\node [style=none] (39) at (0.25, -1.375) {};
		\node [style=none] (40) at (-0.5, -1.375) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (8.center) to (6.center);
		\draw (14.center) to (13.center);
		\draw (11.center) to (15.center);
		\draw (9.center) to (17.center);
		\draw (21.center) to (25.center);
		\draw (18.center) to (23.center);
		\draw (24.center) to (19.center);
		\draw (25.center) to (18.center);
		\draw (23.center) to (21.center);
		\draw (27.center) to (28.center);
		\draw (4.center) to (22.center);
		\draw (40.center) to (39.center);
		\draw (37.center) to (32.center);
		\draw (31.center) to (34.center);
		\draw (39.center) to (38.center);
		\draw (38.center) to (30.center);
		\draw (40.center) to (30.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\]
read as all of the equivalent algebraic expressions 
\[
  ((g \ot \idn_{Y_2}) \ot k) \circ f = 
  (g \ot ((\idn_{Y_2} \ot k)) \circ \rho \circ (f \ot \idn_I) = 
  (g \ot \idn_{Y_2}) \circ f \circ (\idn_{X_1 \ot (X_2 \ot X_3)} \ot k) 
\]
and so on. The coherence theorem says that this does not matter: if two
algebraic expressions have the same diagrammatic representation, then the
algebraic expressions are equal. In more formal language, the graphical calculus
is sound and complete for the axioms of monoidal categories. Again, see
Joyal--Street for details \cite{JS91}.

The coherence theorem thus implies that the graphical calculi goes beyond
visualisations of morphisms: it can provide provide bona-fide proofs of
equalities of morphisms. As a general principle, string diagrams are often more
intuitive than the conventional algebraic language for understanding monoidal
categories.

\subsection{Symmetry}
A symmetric braiding in a monoidal category provides the ability to permute
objects or, equivalently, cross wires. We define symmetric monoidal categories
making use of the graphical notation outlined above, but introducing a new,
special symbol $\swap{.04\textwidth}$.

A \define{symmetric monoidal category} is a monoidal category $(\mc C,\ot)$
together with natural isomorphisms 
\[
    \tikzset{every path/.style={line width=1.1pt}}
    \xymatrixrowsep{0pt}
  \xymatrix{
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (1, 0.25) {$B$};
		\node [style=none] (1) at (0.5, -0.25) {};
		\node [style=none] (2) at (-1, 0.25) {$A$};
		\node [style=none] (3) at (0.5, 0.25) {};
		\node [style=none] (4) at (-0.5, -0.25) {};
		\node [style=none] (5) at (-1, -0.25) {$B$};
		\node [style=none] (6) at (1, -0.25) {$A$};
		\node [style=none] (7) at (-0.5, 0.25) {};
		\node [style=none] (8) at (-0.75, 0.25) {};
		\node [style=none] (9) at (-0.75, -0.25) {};
		\node [style=none] (10) at (0.75, 0.25) {};
		\node [style=none] (11) at (0.75, -0.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=180, out=0, looseness=1.00] (7.center) to (1.center);
		\draw [in=180, out=0, looseness=1.00] (4.center) to (3.center);
		\draw (7.center) to (8.center);
		\draw (4.center) to (9.center);
		\draw (3.center) to (10.center);
		\draw (1.center) to (11.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \\
    \s_{A,B}: A \ot B \to B \ot A
  }
\]
such that
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (2, -0.25) {$B$};
		\node [style=none] (1) at (0.5, -0.25) {};
		\node [style=none] (2) at (-1, 0.25) {$A$};
		\node [style=none] (3) at (0.5, 0.25) {};
		\node [style=none] (4) at (-0.5, -0.25) {};
		\node [style=none] (5) at (-1, -0.25) {$B$};
		\node [style=none] (6) at (2, 0.25) {$A$};
		\node [style=none] (7) at (-0.5, 0.25) {};
		\node [style=none] (8) at (-0.75, 0.25) {};
		\node [style=none] (9) at (-0.75, -0.25) {};
		\node [style=none] (10) at (1.75, 0.25) {};
		\node [style=none] (11) at (1.75, -0.25) {};
		\node [style=none] (12) at (1.5, 0.25) {};
		\node [style=none] (13) at (1.5, -0.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=180, out=0, looseness=1.00] (7.center) to (1.center);
		\draw [in=180, out=0, looseness=1.00] (4.center) to (3.center);
		\draw (7.center) to (8.center);
		\draw (4.center) to (9.center);
		\draw [in=180, out=0, looseness=1.00] (3.center) to (13.center);
		\draw [in=180, out=-3, looseness=1.00] (1.center) to (12.center);
		\draw (13.center) to (11.center);
		\draw (12.center) to (10.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\quad = \quad
  \begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (1, -0.25) {$B$};
		\node [style=none] (1) at (-1, 0.25) {$A$};
		\node [style=none] (2) at (0.75, -0.25) {};
		\node [style=none] (3) at (-1, -0.25) {$B$};
		\node [style=none] (4) at (1, 0.25) {$A$};
		\node [style=none] (5) at (0.75, 0.25) {};
		\node [style=none] (6) at (-0.75, 0.25) {};
		\node [style=none] (7) at (-0.75, -0.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (5.center) to (6.center);
		\draw (2.center) to (7.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\]
and
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{aligned}
    \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (2, -0.25) {$C$};
		\node [style=none] (1) at (-1, 0.25) {$A$};
		\node [style=none] (2) at (-0.5, -0.25) {};
		\node [style=none] (3) at (-1, -0.25) {$B$};
		\node [style=none] (4) at (2, 0.25) {$B$};
		\node [style=none] (5) at (-0.5, 0.25) {};
		\node [style=none] (6) at (-0.75, 0.25) {};
		\node [style=none] (7) at (-0.75, -0.25) {};
		\node [style=none] (8) at (1.75, -0.25) {};
		\node [style=none] (9) at (1.75, 0.25) {};
		\node [style=none] (10) at (0.5, 0.25) {};
		\node [style=none] (11) at (1.5, -0.25) {};
		\node [style=none] (12) at (0.5, -0.25) {};
		\node [style=none] (13) at (-1, -0.75) {$C$};
		\node [style=none] (14) at (-0.75, -0.75) {};
		\node [style=none] (15) at (-0.5, -0.75) {};
		\node [style=none] (16) at (0.5, -0.75) {};
		\node [style=none] (17) at (1.5, -0.75) {};
		\node [style=none] (18) at (1.75, -0.75) {};
		\node [style=none] (19) at (2, -0.75) {$A$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (11.center) to (8.center);
		\draw [in=180, out=0, looseness=1.00] (2.center) to (10.center);
		\draw [in=180, out=0, looseness=1.00] (5.center) to (12.center);
		\draw (10.center) to (9.center);
		\draw (14.center) to (15.center);
		\draw (15.center) to (16.center);
		\draw [in=180, out=0, looseness=1.00] (16.center) to (11.center);
		\draw [in=180, out=0, looseness=1.00] (12.center) to (17.center);
		\draw (17.center) to (18.center);
		\draw (6.center) to (5.center);
		\draw (2.center) to (7.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\quad = \quad
  \begin{aligned}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (1.35, 0.25) {$B\ot C$};
		\node [style=none] (1) at (0.5, -0.25) {};
		\node [style=none] (2) at (-1, 0.25) {$A$};
		\node [style=none] (3) at (0.5, 0.25) {};
		\node [style=none] (4) at (-0.5, -0.25) {};
		\node [style=none] (5) at (-1.35, -0.25) {$B\ot C$};
		\node [style=none] (6) at (1, -0.25) {$A$};
		\node [style=none] (7) at (-0.5, 0.25) {};
		\node [style=none] (8) at (-0.75, 0.25) {};
		\node [style=none] (9) at (-0.75, -0.25) {};
		\node [style=none] (10) at (0.75, 0.25) {};
		\node [style=none] (11) at (0.75, -0.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=180, out=0, looseness=1.00] (7.center) to (1.center);
		\draw [in=180, out=0, looseness=1.00] (4.center) to (3.center);
		\draw (7.center) to (8.center);
		\draw (4.center) to (9.center);
		\draw (3.center) to (10.center);
		\draw (1.center) to (11.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\]
for all $A,B,C$ in $\mc C$.  We call $\s$ the \define{braiding}. We will also
talk, somewhat incidentally, of braided monoidal categories in the next
chapter; a \define{braided monoidal category} is a monoidal category with a
braiding that only obeys the latter axiom.

A \define{(lax/strong/strict) symmetric monoidal functor} is a
(lax/strong/strict) monoidal functor that further obeys
\[
\xymatrixcolsep{3pc}
\xymatrixrowsep{3pc}
\xymatrix{
FA \ot FB \ar[r]^{\varphi_{A,B}} \ar[d]_{\s'_{FA,FB}} & F(A \ot B)\ar[d]^{F\s_{A,B}}\\
FB \ot FA \ar[r]_{\varphi_{B,A}} & F(B \ot A)
}
\]
Morphisms between symmetric monoidal functors are simply monoidal natural
transformations. Thus two symmetric monoidal categories are \define{symmetric
monoidally equivalent} if they are monoidally equivalent by strong
\emph{symmetric} monoidal functors. If our categories are merely braided, we
refer to these functors as \define{braided monoidal functors}.

Roughly speaking, the coherence theorem for symmetric monoidal categories, with
respect to string diagrams, states that two morphisms in a symmetric monoidal
category are equal according to the axioms of symmetric monoidal categories if
and only if their diagrams are equal up to isotopy and applications of the
defining graphical identities above. See Joyal--Street \cite[Theorem
2.3]{JS91} for more precision and details.

\section{Hypergraph categories}

Just as symmetric monoidal categories equip monoidal categories with precisely
enough extra structure to model crossing of strings in the graphical calculus,
hypergraph categories equip symmetric monoidal categories with precisely enough
extra structure to model multi-input multi-output interconnections of strings of
the same type. For this, we require each object to be equipped with a so-called
special commutative Frobenius monoid, which provides chosen maps to model this
interaction. These have a coherence result, known as the `spider theorem', that
says exactly how we use these chosen maps to describe the connection of strings
does not matter: all that matters is that the strings are connected. 

\subsection{Frobenius monoids}
A Frobenius monoid comprises a monoid and comonoid on the same object that
interact according to the so-called Frobenius law.
\begin{definition}
  A \define{special commutative Frobenius monoid} $(X,\mu,\eta,\delta,\epsilon)$
  in a symmetric monoidal category $(\mathcal C, \otimes)$ is an object $X$ of
  $\mathcal C$ together with maps 
\[
  \xymatrixrowsep{1pt}
  \xymatrixcolsep{20pt}
  \xymatrix{
    \mult{.075\textwidth} & & \unit{.075\textwidth} & & 
    \comult{.075\textwidth} & & \counit{.075\textwidth} \\
    \mu\maps X\otimes X \to X & & \eta\maps I \to X & & 
    \delta\maps X\to X \otimes X & & \epsilon\maps X \to I
  }
\]
obeying the commutative monoid axioms
\[
  \xymatrixrowsep{1pt}
  \xymatrixcolsep{25pt}
  \xymatrix{
    \assocl{.1\textwidth} = \assocr{.1\textwidth} & \unitl{.1\textwidth} =
    \idone{.1\textwidth} & \commute{.1\textwidth} = \mult{.07\textwidth} \\
    \textrm{(associativity)} & \textrm{(unitality)} & \textrm{(commutativity)}
  }
\]
the cocommutative comonoid axioms
\[
  \xymatrixrowsep{1pt}
  \xymatrixcolsep{25pt}
  \xymatrix{
    \coassocl{.1\textwidth} = \coassocr{.1\textwidth} & \counitl{.1\textwidth} =
    \idone{.1\textwidth} & \cocommute{.1\textwidth} = \comult{.07\textwidth} \\
    \textrm{(coassociativity)} & \textrm{(counitality)} &
    \textrm{(cocommutativity)}
  }
\]
and the Frobenius and special axioms
  \[
  \xymatrixrowsep{1pt}
  \xymatrixcolsep{25pt}
  \xymatrix{
    \frobs{.1\textwidth} = \frobx{.1\textwidth} = \frobz{.1\textwidth} & \spec{.1\textwidth} =
    \idone{.1\textwidth} \\
    \textrm{(Frobenius)} & \textrm{(special)} 
  }
  \]
  We call $\mu$ the \define{multiplication}, $\eta$ the \define{unit}, $\delta$
  the \define{comultiplication}, and $\epsilon$ the \define{counit}.
\end{definition}

Arising from work in representation theory \cite{BN37}, special commutative
Frobenius monoids were first formulated in this categorical form by Carboni and
Walters, under the name commutative separable algebras \cite{CW87}. The
Frobenius law and the special law were termed the S=X law and the diamond=1 law
respectively \cite{CW87,RSW05}.

Alternate axiomatisations are possible. In addition to the `upper' unitality law
above, the mirror image `lower' unitality law also holds, due to commutativity
and the naturality of the braiding. While we write two equations for the
Frobenius law, this is redundant: given the other axioms, the equality of any
two of the diagrams implies the equality of all three.  Further, note that a
monoid and comonoid obeying the Frobenius law is commutative if and only if it
is cocommutative. Thus while a commutative and cocommutative Frobenius monoid
might more properly be called a bicommutative Frobenius monoid, there is no
ambiguity if we only say commutative.

The common feature to these equations is that each side describes a different
way of using the generators to connect some chosen set of inputs to some chosen
set of outputs. This observation provides a coherence type result for special
commutative Frobenius monoids, known as the spider theorem.
\begin{theorem}
  Let $(X,\mu,\eta,\delta,\epsilon)$ be a special commutative Frobenius monoid,
  and let $f,g\maps X^{\ot n} \to X^{\ot m}$ be map constructed, using
  composition and the monoidal product, from $\mu$, $\eta$, $\delta$, $\epsilon$, the
  coherence maps and braiding, and the identity map on $X$. Then $f$ and $g$ are
  equal if and only if given their string diagrams in the above notation, there
  exists a bijection between the connected components of the two diagrams such
  that corresponding connected components connect the exact same sets of inputs
  and outputs.
\end{theorem}%
This theorem was first formulated in the context of categorical quantum
mechanics. See the textbook of Coecke and Kissinger \cite{CK} or paper by
Coecke, Paquette, and Pavlovic \cite{CPP} for further details.

\subsection{Hypergraph categories}

\begin{definition}
  A \define{hypergraph category} is a symmetric monoidal category in which each
  object $X$ is equipped with a special commutative Frobenius structure
  $(X,\mu_X,\delta_X,\eta_X,\epsilon_X)$ such that 
  \[
    \tikzset{every path/.style={line width=1.1pt}}
    \xymatrixcolsep{1.8ex}
    \xymatrixrowsep{1ex}
    \xymatrix{
    \begin{aligned}
      \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.5) {};
		\node [style=dot] (1) at (0.5, -0) {};
		\node [style=none] (2) at (-0.25, -0.5) {};
		\node [style=none] (3) at (1.25, -0) {};
		\node [style=none] (4) at (-1.5, 0.5) {$X \otimes Y$};
		\node [style=none] (5) at (-1.5, -0.5) {$X \otimes Y$};
		\node [style=none] (6) at (2, -0) {$X \otimes Y$};
		\node [style=none] (7) at (-0.75, 0.5) {};
		\node [style=none] (8) at (-0.75, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=0, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=0, looseness=0.90] (2.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (7.center) to (0.center);
		\draw (8.center) to (2.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
  \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.5) {};
		\node [style=dot] (1) at (0.5, -0) {};
		\node [style=none] (2) at (-0.25, -0.5) {};
		\node [style=none] (3) at (1.25, -0) {};
		\node [style=none] (4) at (-1.75, 0.5) {$X$};
		\node [style=none] (5) at (-1.75, -1.25) {$X$};
		\node [style=none] (6) at (1.5, -0) {$X$};
		\node [style=none] (7) at (-1.5, 0.5) {};
		\node [style=none] (8) at (-1.5, -1.25) {};
		\node [style=none] (9) at (1.25, -1.75) {};
		\node [style=none] (10) at (-1.5, -2.25) {};
		\node [style=none] (11) at (1.5, -1.75) {$Y$};
		\node [style=none] (12) at (-1.5, -0.5) {};
		\node [style=none] (13) at (-0.25, -2.25) {};
		\node [style=dot] (14) at (0.5, -1.75) {};
		\node [style=none] (15) at (-0.25, -1.25) {};
		\node [style=none] (16) at (-1.75, -0.5) {$Y$};
		\node [style=none] (17) at (-1.75, -2.25) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=0, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=0, looseness=0.90] (2.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (7.center) to (0.center);
		\draw [in=180, out=0, looseness=1.00] (8.center) to (2.center);
		\draw [in=90, out=0, looseness=0.90] (15.center) to (14);
		\draw [in=-90, out=0, looseness=0.90] (13.center) to (14);
		\draw (14) to (9.center);
		\draw [in=180, out=0, looseness=1.00] (12.center) to (15.center);
		\draw (10.center) to (13.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
& &   
\qquad
  \begin{aligned}
    \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=dot] (0) at (-0.5, 0.5) {};
		\node [style=none] (1) at (1.5, 0.5) {$X\otimes Y$};
		\node [style=none] (2) at (0.75, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (2.center) to (0.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
  = \qquad
  \begin{aligned}
    \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=dot] (0) at (0, 0.5) {};
		\node [style=none] (1) at (1.5, 0.5) {$X$};
		\node [style=none] (2) at (1.25, 0.5) {};
		\node [style=none] (3) at (1.25, -0.25) {};
		\node [style=dot] (4) at (0, -0.25) {};
		\node [style=none] (5) at (1.5, -0.25) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (2.center) to (0.center);
		\draw (3.center) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\\
    \begin{aligned}
\begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.75, 0.5) {};
		\node [style=dot] (1) at (0, -0) {};
		\node [style=none] (2) at (0.75, -0.5) {};
		\node [style=none] (3) at (-0.75, -0) {};
		\node [style=none] (4) at (2, 0.5) {$X \otimes Y$};
		\node [style=none] (5) at (2, -0.5) {$X \otimes Y$};
		\node [style=none] (6) at (-1.5, -0) {$X \otimes Y$};
		\node [style=none] (7) at (1.25, 0.5) {};
		\node [style=none] (8) at (1.25, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=180, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=180, looseness=0.90] (2.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (7.center) to (0.center);
		\draw (8.center) to (2.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, 0.5) {};
		\node [style=dot] (1) at (-0.75, -0) {};
		\node [style=none] (2) at (0, -0.5) {};
		\node [style=none] (3) at (-1.5, -0) {};
		\node [style=none] (4) at (1.5, 0.5) {$X$};
		\node [style=none] (5) at (1.5, -1.25) {$X$};
		\node [style=none] (6) at (-1.75, -0) {$X$};
		\node [style=none] (7) at (1.25, 0.5) {};
		\node [style=none] (8) at (1.25, -1.25) {};
		\node [style=none] (9) at (-1.5, -1.75) {};
		\node [style=none] (10) at (1.25, -2.25) {};
		\node [style=none] (11) at (-1.75, -1.75) {$Y$};
		\node [style=none] (12) at (1.25, -0.5) {};
		\node [style=none] (13) at (0, -2.25) {};
		\node [style=dot] (14) at (-0.75, -1.75) {};
		\node [style=none] (15) at (0, -1.25) {};
		\node [style=none] (16) at (1.5, -0.5) {$Y$};
		\node [style=none] (17) at (1.5, -2.25) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=180, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=180, looseness=0.90] (2.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (7.center) to (0.center);
		\draw [in=0, out=180, looseness=1.00] (8.center) to (2.center);
		\draw [in=90, out=180, looseness=0.90] (15.center) to (14);
		\draw [in=-90, out=180, looseness=0.90] (13.center) to (14);
		\draw (14) to (9.center);
		\draw [in=0, out=180, looseness=1.00] (12.center) to (15.center);
		\draw (10.center) to (13.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
& &
  \begin{aligned}
    \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=dot] (0) at (1.5, 0.5) {};
		\node [style=none] (1) at (-0.5, 0.5) {$X\otimes Y$};
		\node [style=none] (2) at (0.25, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (2.center) to (0.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
  \qquad \quad =
  \begin{aligned}
    \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=dot] (0) at (1.5, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {$X$};
		\node [style=none] (2) at (0.25, 0.5) {};
		\node [style=none] (3) at (0.25, -0.25) {};
		\node [style=dot] (4) at (1.5, -0.25) {};
		\node [style=none] (5) at (0, -0.25) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (2.center) to (0.center);
		\draw (3.center) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
\qquad \quad
  \end{aligned}
}
\]
\end{definition}

Note that we do \emph{not} require these Frobenius morphisms to be natural in
$X$. While morphisms in a hypergraph category need not interact with the Frobenius
structure in any particular way, we do require functors between hypergraph
categories to preserve it.

\begin{definition}
A functor $(F,\varphi)$ of hypergraph categories, or \define{hypergraph
functor}, is a strong symmetric monoidal functor $(F,\varphi)$ such that for
each object $X$ the following diagrams commute:
\[
  \xymatrix{
    FX\boxtimes FX \ar[rr]^{\mu_{FX}} \ar[dr]_{\varphi} && FX \\
    & F(X \ot X) \ar[ur]_{F\mu_X}
  }
  \qquad
  \xymatrix{
    I_{\mc D} \ar[rr]^{\eta_{FX}} \ar[dr]_{\varphi_I} && FX \\
    & FI_{\mc C} \ar[ur]_{F\eta_X}
  }
\]
\[
  \xymatrix{
    FX \ar[rr]^{\delta_{FX}} \ar[dr]_{F\delta_X} && FX \boxtimes FX\\
    & F(X \ot X) \ar[ur]_{\varphi^{-1}}
  }
  \qquad
  \xymatrix{
    FX \ar[rr]^{\epsilon_{FX}} \ar[dr]_{F\epsilon_X} && I_{\mc D} \\
    & FI_{\mc C} \ar[ur]_{\varphi^{-1}}
  }
\]
\end{definition}

Equivalently, a strong symmetric monoidal functor $F$ is a hypergraph functor if
for every $X$ the special commutative Frobenius structure on $FX$ is
\[
  (FX,\enspace F\mu_X \circ \varphi_{X,X},\enspace  \varphi^{-1}_{X,X} \circ F\delta_X,\enspace  F\eta_X \circ
  \varphi_1,\enspace  \varphi_1^{-1} \circ F\epsilon_X).
\]

Just as monoidal natural transformations themselves are enough as morphisms
between symmetric monoidal functors, so too they suffice as morphisms between
hypergraph functors. Two hypergraph categories are \define{hypergraph
equivalent} if there exist hypergraph functors with monoidal natural
transformations to the identity functors. 
  
The term hypergraph category was introduced recently \cite{Fon15,Kis}, in
reference to the fact that these special commutative Frobenius monoids provide
precisely the structure required for their string diagrams to be graphs with
`hyperedges': edges connecting any number of inputs to any number of outputs.
More precisely, write $\mc P(N)$ for the power set of $N$. Then a hypergraph
$(N,H,s,t)$ comprises a set $N$ of vertices, a set $H$ of hyperedges, and source
and target functions $s,t\maps H \to \mc P(N)$. We then think of morphisms in a
hypergraph category as hyperedges; for example, the morphism
\[
  \begin{aligned}
  \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, 0.375) {};
		\node [style=none] (1) at (0.5, 0.375) {};
		\node [style=none] (2) at (-0.25, -.875) {};
		\node [style=none] (3) at (0.5, -.875) {};
		\node [style=none] (4) at (0.5, 0.125) {};
		\node [style=none] (5) at (1.25, 0.125) {};
		\node [style=none] (6) at (0.125, -0.25) {$f$};
		\node [style=none] (7) at (1.5, 0.125) {$Y_1$};
		\node [style=none] (8) at (1.25, -0.625) {};
		\node [style=none] (9) at (1.5, -0.625) {$Y_2$};
		\node [style=none] (10) at (0.5, -0.625) {};
		\node [style=none] (11) at (-0.25, -0.75) {};
		\node [style=none] (12) at (-1.25, -0.75) {$X_3$};
		\node [style=none] (13) at (-0.25, -0.25) {};
		\node [style=none] (14) at (-1.25, 0.25) {$X_1$};
		\node [style=none] (15) at (-1, 0.25) {};
		\node [style=none] (16) at (-0.25, 0.25) {};
		\node [style=none] (17) at (-1, -0.25) {};
		\node [style=none] (18) at (-1.25, -0.25) {$X_2$};
		\node [style=none] (19) at (-1, -0.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (1.center);
		\draw (1.center) to (3.center);
		\draw (3.center) to (2.center);
		\draw (2.center) to (0.center);
		\draw (4.center) to (5.center);
		\draw (10.center) to (8.center);
		\draw (16.center) to (15.center);
		\draw (13.center) to (17.center);
		\draw (11.center) to (19.center);
	\end{pgfonlayer}
\end{tikzpicture}
\end{aligned}
\]
is a hyperedge from the set $\{X_1,X_2,X_3\}$ to the set $\{Y_1,Y_2\}$. Roughly
speaking, two morphisms of a hypergraph category are equal by the axioms of a
hypergraph category if their string diagrams reduce, using the graphical
manipulations given by the symmetric monoidal category and Frobenius axioms, to
the same hypergraph. Details can be found in the work of Bonchi, Gadduci,
Kissinger, Soboci\'nski, and Zanasi \cite{BGKSZ}.

Like special commutative Frobenius monoids, hypergraph categories were first
defined by Walters and Carboni \cite{Car91}, under the name \emph{well-supported
compact closed category}. In recent years they have been rediscovered a number
of times, also appearing under the names \emph{dungeon category} \cite{Mor14}
and \emph{dgs-monoidal category} \cite{GH98}. 

%Nonetheless, this flexibility is a strength of hypergraph categories. In the
%category of vector spaces, for example, a special commutative Frobenius monoid
%is a basis \cite{CoePavVic}. This allows us to talk about the hypergraph category of vector spaces with bases .



\subsection{Hypergraph categories are self-dual compact closed}

Note that if an object $X$ is equipped with a Frobenius monoid structure then
the maps 
\[
    \xymatrixrowsep{0pt}
    \xymatrix{
  \begin{aligned}
      \resizebox{.09\textwidth}{!}{
	\begin{tikzpicture}
	  \begin{pgfonlayer}{nodelayer}
	    \node [style=circ] (0) at (0.75, -0) {};
	    \node [style=circ] (1) at (0.125, -0) {};
	    \node [style=none] (2) at (-1, 0.5) {};
	    \node [style=none] (3) at (-1, -0.5) {};
	  \end{pgfonlayer}
	  \begin{pgfonlayer}{edgelayer}
	    \draw [line width=2pt] (0.center) to (1.center);
	    \draw [line width=2pt, in=0, out=120, looseness=1.20] (1.center) to (2.center);
	    \draw [line width=2pt, in=0, out=-120, looseness=1.20] (1.center) to (3.center);
	  \end{pgfonlayer}
	\end{tikzpicture} 
    }
  \end{aligned}
  & \quad \mbox{and} \quad&
  \begin{aligned}
      \resizebox{.09\textwidth}{!}{
	\begin{tikzpicture}
	  \begin{pgfonlayer}{nodelayer}
	    \node [style=circ] (0) at (-1, 0) {};
	    \node [style=circ] (1) at (-0.375, 0) {};
	    \node [style=none] (2) at (0.75, -0.5) {};
	    \node [style=none] (3) at (0.75, 0.5) {};
	  \end{pgfonlayer}
	  \begin{pgfonlayer}{edgelayer}
	    \draw [line width=2pt] (0.center) to (1.center);
	    \draw [line width=2pt, in=180, out=-60, looseness=1.20] (1.center) to (2.center);
	    \draw [line width=2pt, in=180, out=60, looseness=1.20] (1.center) to (3.center);
	  \end{pgfonlayer}
	\end{tikzpicture}
      } 
  \end{aligned} \\
      \epsilon \circ \mu\maps X \ot X \to I & &
      \delta \circ \eta\maps I \to X \ot X
    }
\]
obey both
\[
  \begin{aligned}
    \resizebox{3cm}{!}{
      \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
	  \node [style=circ] (0) at (-1.5, 0.5) {};
	  \node [style=circ] (1) at (-0.75, 0.5) {};
	  \node [style=none] (2) at (0.25, -0) {};
	  \node [style=none] (3) at (0.25, 1) {};
	  \node [style=circ] (4) at (1, -0.5) {};
	  \node [style=none] (5) at (0, -0) {};
	  \node [style=circ] (6) at (1.75, -0.5) {};
	  \node [style=none] (7) at (0, -1) {};
	  \node [style=none] (8) at (2.5, 1) {};
	  \node [style=none] (9) at (-2.5, -1) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
	  \draw [line width=2pt, in=180, out=-60, looseness=1.20] (1) to (2.center);
	  \draw [line width=2pt, in=180, out=60, looseness=1.20] (1) to (3.center);
	  \draw [line width=2pt] (0.center) to (1);
	  \draw [line width=2pt] (6.center) to (4);
	  \draw [line width=2pt, in=0, out=120, looseness=1.20] (4) to (5.center);
	  \draw [line width=2pt, in=0, out=-120, looseness=1.20] (4) to (7.center);
	  \draw [line width=2pt] (3.center) to (8.center);
	  \draw [line width=2pt] (7.center) to (9.center);
	\end{pgfonlayer}
      \end{tikzpicture}
    }
  \end{aligned}
  \quad = \quad
  \begin{aligned}
    \resizebox{3cm}{!}{
      \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
	  \node [style=circ] (0) at (-0.5, -0) {};
	  \node [style=none] (1) at (-1.5, -0.5) {};
	  \node [style=circ] (2) at (-1.5, 0.5) {};
	  \node [style=circ] (3) at (0.5, -0) {};
	  \node [style=circ] (4) at (1.5, -0.5) {};
	  \node [style=none] (5) at (1.5, 0.5) {};
	  \node [style=none] (6) at (2.5, 0.5) {};
	  \node [style=none] (7) at (-2.5, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
	  \draw [line width=2pt, in=0, out=-120, looseness=1.20] (0.center) to (1.center);
	  \draw [line width=2pt, in=0, out=120, looseness=1.20] (0.center) to (2.center);
	  \draw [line width=2pt, in=180, out=-60, looseness=1.20] (3) to (4.center);
	  \draw [line width=2pt, in=180, out=60, looseness=1.20] (3) to (5.center);
	  \draw [line width=2pt] (0) to (3);
	  \draw [line width=2pt] (7.center) to (1.center);
	  \draw [line width=2pt] (5.center) to (6.center);
	\end{pgfonlayer}
      \end{tikzpicture}
    }
  \end{aligned}
  \quad = \quad
  \begin{aligned}
    \resizebox{2cm}{!}{
      \begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
	  \node [style=none] (0) at (2, -0) {};
	  \node [style=none] (1) at (-2, -0) {};
	  \node [style=none] (2) at (0, -0.5) {};
	  \node [style=none] (3) at (0, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
	  \draw [line width=2pt](1.center) to (0.center);
	\end{pgfonlayer}
      \end{tikzpicture}
    }
  \end{aligned}
\]
and the reflected equations. Thus if an object carries a Frobenius monoid it is
also self-dual, and any hypergraph category is a fortiori self-dual compact
closed. 

We introduce the notation
  \[
    \tikzset{every path/.style={line width=1.1pt}}
    \begin{aligned}
      \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.75, 0.5) {};
		\node [style=none] (1) at (0, -0) {};
		\node [style=none] (2) at (0.75, -0.5) {};
		\node [style=none] (3) at (1.25, 0.5) {};
		\node [style=none] (4) at (1.25, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=180, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=180, looseness=0.90] (2.center) to (1.center);
		\draw (3.center) to (0.center);
		\draw (4.center) to (2.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
    :=
    \begin{aligned}
      \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.75, 0.5) {};
		\node [style=dot] (1) at (0, -0) {};
		\node [style=none] (2) at (0.75, -0.5) {};
		\node [style=none] (3) at (1.25, 0.5) {};
		\node [style=none] (4) at (1.25, -0.5) {};
		\node [style=dot] (5) at (-0.5, -0) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=180, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=180, looseness=0.90] (2.center) to (1.center);
		\draw (3.center) to (0.center);
		\draw (4.center) to (2.center);
		\draw (5.center) to (1.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
    \qquad
    \qquad
    \begin{aligned}
      \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, 0.5) {};
		\node [style=none] (1) at (0.75, -0) {};
		\node [style=none] (2) at (0, -0.5) {};
		\node [style=none] (3) at (-0.5, 0.5) {};
		\node [style=none] (4) at (-0.5, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=0, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=0, looseness=0.90] (2.center) to (1.center);
		\draw (3.center) to (0.center);
		\draw (4.center) to (2.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
    :=
    \begin{aligned}
      \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, 0.5) {};
		\node [style=dot] (1) at (0.75, -0) {};
		\node [style=none] (2) at (0, -0.5) {};
		\node [style=none] (3) at (-0.5, 0.5) {};
		\node [style=none] (4) at (-0.5, -0.5) {};
		\node [style=dot] (5) at (1.25, -0) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=0, looseness=0.90] (0.center) to (1.center);
		\draw [in=-90, out=0, looseness=0.90] (2.center) to (1.center);
		\draw (3.center) to (0.center);
		\draw (4.center) to (2.center);
		\draw (5.center) to (1.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
  \]
As in any self-dual compact closed category, mapping each morphism 
$
    \tikzset{every path/.style={line width=1.1pt}}
    \begin{aligned}
  \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.5, -0.5) {};
		\node [style=none] (1) at (-0.25, -0.5) {};
		\node [style=none] (2) at (-1, -0.5) {};
		\node [style=none] (3) at (-1.75, -0.5) {};
		\node [style=none] (4) at (-1, -0.125) {};
		\node [style=none] (5) at (-1, -0.875) {};
		\node [style=none] (6) at (-0.25, -0.875) {};
		\node [style=none] (7) at (-0.25, -0.125) {};
		\node [style=none] (8) at (-0.625, -0.5) {$f$};
		\node [style=none] (9) at (-2, -0.5) {$X$};
		\node [style=none] (10) at (0.75, -0.5) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (0.center);
		\draw (2.center) to (3.center);
		\draw (4.center) to (5.center);
		\draw (5.center) to (6.center);
		\draw (6.center) to (7.center);
		\draw (7.center) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
$
to its dual morphism
\[
  \tikzset{every path/.style={line width=1.1pt}}
  \begin{tikzpicture}[scale=.65]
    \begin{pgfonlayer}{nodelayer}
      \node [style=none] (0) at (0, 0.5) {};
      \node [style=none] (1) at (0.75, -0) {};
      \node [style=none] (2) at (0, -0.5) {};
      \node [style=none] (3) at (-2.5, 0.5) {};
      \node [style=none] (4) at (-0.25, -0.5) {};
      \node [style=none] (5) at (-2, -1) {};
      \node [style=none] (6) at (-1.25, -1.5) {};
      \node [style=none] (7) at (-1, -0.5) {};
      \node [style=none] (8) at (1.25, -1.5) {};
      \node [style=none] (9) at (-1.25, -0.5) {};
      \node [style=none] (10) at (-1, -0.125) {};
      \node [style=none] (11) at (-1, -0.875) {};
      \node [style=none] (12) at (-0.25, -0.875) {};
      \node [style=none] (13) at (-0.25, -0.125) {};
      \node [style=none] (14) at (-0.625, -0.5) {$f$};
      \node [style=none] (15) at (1.5, -1.5) {$X$};
      \node [style=none] (16) at (-2.75, 0.5) {$Y$};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [in=90, out=0, looseness=0.90] (0.center) to (1.center);
      \draw [in=-90, out=0, looseness=0.90] (2.center) to (1.center);
      \draw (3.center) to (0.center);
      \draw (4.center) to (2.center);
      \draw [in=90, out=180, looseness=0.90] (9.center) to (5.center);
      \draw [in=-90, out=180, looseness=0.90] (6.center) to (5.center);
      \draw (7.center) to (9.center);
      \draw (8.center) to (6.center);
      \draw (10.center) to (11.center);
      \draw (11.center) to (12.center);
      \draw (12.center) to (13.center);
      \draw (13.center) to (10.center);
    \end{pgfonlayer}
  \end{tikzpicture}
\]
further equips each hypergraph category with a so-called dagger functor---an
involutive contravariant endofunctor that is the identity on objects---such that
the category is a dagger compact category. Dagger compact categories were first
introduced in the context of categorical quantum mechanics \cite{AC04}, under the
name strongly compact closed category, and have been demonstrated to be a key
structure in diagrammatic reasoning and the logic of quantum mechanics.

Compactness introduces a tight relationship between composition and the monoidal
product of morphisms. Firstly, there is a one-to-one correspondence between
morphisms $X \to Y$ and morphisms $I \to X\ot Y$ given by taking 
$
    \tikzset{every path/.style={line width=1.1pt}}
    \begin{aligned}
  \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.5, -0.5) {};
		\node [style=none] (1) at (-0.25, -0.5) {};
		\node [style=none] (2) at (-1, -0.5) {};
		\node [style=none] (3) at (-1.75, -0.5) {};
		\node [style=none] (4) at (-1, -0.125) {};
		\node [style=none] (5) at (-1, -0.875) {};
		\node [style=none] (6) at (-0.25, -0.875) {};
		\node [style=none] (7) at (-0.25, -0.125) {};
		\node [style=none] (8) at (-0.625, -0.5) {$f$};
		\node [style=none] (9) at (-2, -0.5) {$X$};
		\node [style=none] (10) at (0.75, -0.5) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (0.center);
		\draw (2.center) to (3.center);
		\draw (4.center) to (5.center);
		\draw (5.center) to (6.center);
		\draw (6.center) to (7.center);
		\draw (7.center) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
    \end{aligned}
$
to its so-called \define{name}
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0.5, -0.5) {};
		\node [style=none] (1) at (-0.25, -0.5) {};
		\node [style=none] (2) at (-2, -0) {};
		\node [style=none] (3) at (-1.25, -0.5) {};
		\node [style=none] (4) at (0.5, 0.5) {};
		\node [style=none] (5) at (-1, -0.5) {};
		\node [style=none] (6) at (-1.25, 0.5) {};
		\node [style=none] (7) at (-1, -0.125) {};
		\node [style=none] (8) at (-1, -0.875) {};
		\node [style=none] (9) at (-0.25, -0.875) {};
		\node [style=none] (10) at (-0.25, -0.125) {};
		\node [style=none] (11) at (-0.625, -0.5) {$f$};
		\node [style=none] (12) at (0.75, 0.5) {$X$};
		\node [style=none] (13) at (0.75, -0.5) {$Y$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (0.center);
		\draw [in=90, out=180, looseness=0.90] (6.center) to (2.center);
		\draw [in=-90, out=180, looseness=0.90] (3.center) to (2.center);
		\draw (4.center) to (6.center);
		\draw (5.center) to (3.center);
		\draw (7.center) to (8.center);
		\draw (8.center) to (9.center);
		\draw (9.center) to (10.center);
		\draw (10.center) to (7.center);
	\end{pgfonlayer}
\end{tikzpicture}
\]
By compactness, we have the equation
\[
    \tikzset{every path/.style={line width=1.1pt}}
  \begin{aligned}
\begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, -0.5) {};
		\node [style=none] (1) at (-0.25, -0.5) {};
		\node [style=none] (2) at (-2, -0) {};
		\node [style=none] (3) at (-1.25, -0.5) {};
		\node [style=none] (4) at (1.5, 0.5) {};
		\node [style=none] (5) at (-1, -0.5) {};
		\node [style=none] (6) at (-1.25, 0.5) {};
		\node [style=none] (7) at (-1, -0.125) {};
		\node [style=none] (8) at (-1, -0.875) {};
		\node [style=none] (9) at (-0.25, -0.875) {};
		\node [style=none] (10) at (-0.25, -0.125) {};
		\node [style=none] (11) at (-0.625, -0.5) {$f$};
		\node [style=none] (12) at (1.75, 0.5) {$X$};
		\node [style=none] (13) at (-2, -2) {};
		\node [style=none] (14) at (-0.25, -2.125) {};
		\node [style=none] (15) at (-0.25, -2.5) {};
		\node [style=none] (16) at (-1, -2.5) {};
		\node [style=none] (17) at (1.5, -2.5) {};
		\node [style=none] (18) at (-0.25, -2.875) {};
		\node [style=none] (19) at (-1.25, -2.5) {};
		\node [style=none] (20) at (0, -1.5) {};
		\node [style=none] (21) at (-0.625, -2.5) {$g$};
		\node [style=none] (22) at (-1, -2.125) {};
		\node [style=none] (23) at (-1.25, -1.5) {};
		\node [style=none] (24) at (-1, -2.875) {};
		\node [style=none] (25) at (1.75, -2.5) {$Z$};
		\node [style=none] (26) at (1, -1) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (0.center);
		\draw [in=90, out=180, looseness=0.90] (6.center) to (2.center);
		\draw [in=-90, out=180, looseness=0.90] (3.center) to (2.center);
		\draw (4.center) to (6.center);
		\draw (5.center) to (3.center);
		\draw (7.center) to (8.center);
		\draw (8.center) to (9.center);
		\draw (9.center) to (10.center);
		\draw (10.center) to (7.center);
		\draw (15.center) to (17.center);
		\draw [in=90, out=180, looseness=0.90] (23.center) to (13.center);
		\draw [in=-90, out=180, looseness=0.90] (19.center) to (13.center);
		\draw (20.center) to (23.center);
		\draw (16.center) to (19.center);
		\draw (22.center) to (24.center);
		\draw (24.center) to (18.center);
		\draw (18.center) to (14.center);
		\draw (14.center) to (22.center);
		\draw [in=90, out=0, looseness=0.90] (0.center) to (26.center);
		\draw [in=0, out=-90, looseness=0.90] (26.center) to (20.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
  \qquad
  =
  \qquad
  \begin{aligned}
\begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.25, -0.5) {};
		\node [style=none] (1) at (-2, -0) {};
		\node [style=none] (2) at (-1.25, -0.5) {};
		\node [style=none] (3) at (1.5, 0.5) {};
		\node [style=none] (4) at (-1, -0.5) {};
		\node [style=none] (5) at (-1.25, 0.5) {};
		\node [style=none] (6) at (-1, -0.125) {};
		\node [style=none] (7) at (-1, -0.875) {};
		\node [style=none] (8) at (-0.25, -0.875) {};
		\node [style=none] (9) at (-0.25, -0.125) {};
		\node [style=none] (10) at (-0.625, -0.5) {$f$};
		\node [style=none] (11) at (1.75, 0.5) {$X$};
		\node [style=none] (12) at (1, -0.125) {};
		\node [style=none] (13) at (1, -0.5) {};
		\node [style=none] (14) at (0.25, -0.5) {};
		\node [style=none] (15) at (1.5, -0.5) {};
		\node [style=none] (16) at (1, -.875) {};
		\node [style=none] (17) at (0.625, -0.5) {$g$};
		\node [style=none] (18) at (0.25, -0.125) {};
		\node [style=none] (19) at (0.25, -.875) {};
		\node [style=none] (20) at (1.75, -0.5) {$Z$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=90, out=180, looseness=0.90] (5.center) to (1.center);
		\draw [in=-90, out=180, looseness=0.90] (2.center) to (1.center);
		\draw (3.center) to (5.center);
		\draw (4.center) to (2.center);
		\draw (6.center) to (7.center);
		\draw (7.center) to (8.center);
		\draw (8.center) to (9.center);
		\draw (9.center) to (6.center);
		\draw (13.center) to (15.center);
		\draw (18.center) to (19.center);
		\draw (19.center) to (16.center);
		\draw (16.center) to (12.center);
		\draw (12.center) to (18.center);
		\draw (0.center) to (14.center);
	\end{pgfonlayer}
\end{tikzpicture}
  \end{aligned}
\]
Here the right hand side is the name of the composite $f \circ g$, while the
left hand side is the monoidal product post-composed with the map
\[
    \tikzset{every path/.style={line width=1.1pt}}
\begin{tikzpicture}[scale=.65]
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (0, -0.5) {};
		\node [style=none] (1) at (1.5, 0.5) {};
		\node [style=none] (2) at (1.75, 0.5) {$X$};
		\node [style=none] (3) at (-0.5, -0.5) {$Y$};
		\node [style=none] (4) at (-0.25, -2.5) {};
		\node [style=none] (5) at (1.5, -2.5) {};
		\node [style=none] (6) at (0, -1.5) {};
		\node [style=none] (7) at (1.75, -2.5) {$Z$};
		\node [style=none] (8) at (1, -1) {};
		\node [style=none] (9) at (-0.25, 0.5) {};
		\node [style=none] (10) at (-0.5, 0.5) {$X$};
		\node [style=none] (11) at (-0.5, -2.5) {$Z$};
		\node [style=none] (12) at (-0.5, -1.5) {$Y$};
		\node [style=none] (13) at (-0.25, -1.5) {};
		\node [style=none] (14) at (-0.25, -0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (4.center) to (5.center);
		\draw [in=90, out=0, looseness=0.90] (0.center) to (8.center);
		\draw [in=0, out=-90, looseness=0.90] (8.center) to (6.center);
		\draw (1.center) to (9.center);
		\draw (6.center) to (13.center);
		\draw (14.center) to (0.center);
	\end{pgfonlayer}
\end{tikzpicture}
\]
Thus this morphism, the product of a cap and two identity maps, enacts the
categorical composition on monoidal products of names. We will make liberal use
of this fact.

\subsection{Coherence}

The lack of naturality of the Frobenius maps in hypergraph categories affects
some common, often desirable, properties of structured categories. For example,
it is not always possible to construct a skeletal hypergraph category hypergraph
equivalent to a given hypergraph category: isomorphic objects may be equipped
with distinct Frobenius structures.  Similarly, a fully faithful, essentially
surjective hypergraph functor does not necessarily define a hypergraph
equivalence of categories. 

Nonetheless, in this section we prove that every hypergraph category is
hypergraph equivalent to a strict hypergraph category. This coherence result
will be important in proving that every hypergraph category can be constructed
using decorated corelations.

\begin{theorem} \label{thm.stricthypergraphs}
  Every hypergraph category is hypergraph equivalent to a strict hypergraph
  category. Moreover, the objects of this strict hypergraph category form a free
  monoid.
\end{theorem}
\begin{proof}
  Let $(\mc H,\ot)$ be a hypergraph category. As $\mc H$ is a fortiori a
  symmetric monoidal category, a standard construction (see Mac Lane
  \cite[Theorem XI.3.1]{Mac98}) gives an equivalent strict symmetric monoidal
  category $(\mc H_{\mathrm{str}}, \cdot)$ with objects finite lists
  $[x_1,\dots,x_n]$ of objects of $\mc H$ and morphisms $[x_1,\dots,x_n] \to
  [y_1,\dots,y_m]$ those morphisms from $((x_1 \ot x_2) \ot \dots) \ot x_n \to
  ((y_1 \ot y_2) \ot \dots) \ot y_m$ in $\mc H$.  Composition is given by
  composition in $\mc H$.

  The monoidal structure on $\mc H_{\mathrm{str}}$ is given as follows. The
  monoidal product of objects in $\mc H_{\mathrm{str}}$ is given by
  concatenation $\cdot$ of lists; the monoidal unit is the empty list. Given a
  list $X = [x_1,\dots, x_n]$ of objects in $\mc H$, write $PX = ((x_1 \ot x_2)
  \ot \dots) \ot x_n$ for the `pre-parenthesised product of $X$' in $\mc H$ with
  all open parenthesis at the front.  The monoidal product of two morphisms is
  given by their monoidal product in $\mc H$ pre- and post-composed with the
  necessary canonical maps: given $f\maps X \to Y$ and $g\maps Z \to W$, their
  product $f\cdot g\maps X\cdot Y \to Z \cdot W$ is 
  \[ 
    P(X \cdot Y) \stackrel{\sim}\longrightarrow PX \ot PY \stackrel{f \ot g}{\longrightarrow}
    PZ \ot PW \stackrel{\sim}\longrightarrow P(Z \cdot W).  
  \] 
  By design, the associators and unitors are simply identity maps. The braiding
  $X \cdot Y \to Y \cdot X$ is given by the braiding $PX \ot PY \to PY \ot PX$
  in $\mc H$, similarly pre- and post-composed with the necessary canonical
  maps. This defines a strict symmetric monoidal category \cite{Mac98}.

  To make $\mc H_{\mathrm{str}}$ into a hypergraph category, we make each
  object $[x_1,\dots,x_n]$ into a special commutative Frobenius monoid in a
  similar way, pre- and post-composing lists of Frobenius maps with the
  necessary canonical maps. For example, the multiplication on $[x_1,\dots,x_n]$
  is given by 
  \[
    \xymatrixcolsep{-4pt}
    \xymatrix{
      P([x_1,\dots,x_n]\cdot[x_1,&\dots,x_n])=
      ((((((x_1 \ot x_2) \ot \dots) \ot x_n) \ot x_1) \ot x_2) \ot \dots) \ot
      x_n \ar[d]^{\sim} \\
      &(((x_1 \ot x_1) \ot (x_2 \ot x_2)) \ot \dots) \ot (x_n \ot x_n)
      \ar[d]^{((\mu_{x_1} \ot \mu_{x_2}) \ot \dots ) \ot \mu_{x_n}} \\
      &P([x_1,\dots,x_n])=((x_1 \ot x_2) \ot \dots ) \ot x_n 
      \phantom{P([x_1,\dots,x_n])=}
    }
  \]
  where the first map is the canonical map such that each pair of $x_i$'s
  remains in the same order. As the coherence maps are natural, each
  special commutative Frobenius monoid axiom for this data on $[x_1,\dots,x_n]$
  reduces to a list of the corresponding axioms for the objects $x_i$ in $\mc H$.
  Similarly, the coherence axioms and naturality of the coherence maps imply the
  Frobenius structure on the monoidal product of objects is given by the
  Frobenius structures on the factors in the required way. This defines a hypergraph category.
  \smallskip

  \begin{center}
    \begin{tabular}{| c | p{.65\textwidth} |}
      \hline
      \multicolumn{2}{|c|}{The strict hypergraph category $(\mc H_{\mathrm{str}},
      \cdot)$} \\
      \hline
      \textbf{objects} & finite lists $[x_1, \dots, x_n]$ of objects of
      $\mathcal H$ \\ 
      \textbf{morphisms} & $\mathrm{hom}_{\mc H_{\mathrm{str}}}\big([x_1, \dots,
      x_n],[y_1, \dots, y_m]\big)$ \newline $= \mathrm{hom}_{\mc H}\big(((x_1 \ot x_2) \ot
      \dots) \ot x_n, ((y_1 \ot y_2) \ot \dots) \ot y_m\big)$\\ 
      \textbf{composition} & composition of corresponding maps in $\mc H$ \\
      \textbf{monoidal product} & concatenation of lists \\
      \textbf{coherence maps} & associators and unitors are strict; braiding is
      inherited from $\mc H$  \\
      \textbf{hypergraph maps} & lists of hypergraph maps in $\mc H$ \\
      \hline
    \end{tabular}
  \end{center}
  \smallskip

  Mac Lane's standard construction further gives a strong symmetric monoidal
  functors $P\maps \mc H_{\mathrm{str}} \to \mc H$ extending the map $P$ above,
  and $S\maps \mc H \to \mc H_{\mathrm{str}}$ sending $x \in \mc H$ to the
  string $[x]$ of length 1 in $\mc H_{\mathrm{str}}$. These extend to hypergraph
  functors.

  In detail, the functor $P$ is given on morphisms by taking a map in
  $\mathrm{hom}_{\mc H_{\mathrm{str}}}(X,Y)$ to the same map considered now as a
  map in $\mathrm{hom}_{\mc H}(PX,PY)$; its coherence maps are given by the
  canonical maps $PX \ot PY \to P(X\cdot Y)$. The functor $S$ is even easier to
  define: a morphism $x \to y$ in $\mc H$ is by definition a morphism $[x] \to
  [y]$ in $\mc H_{\mathrm{str}}$, so $S$ is a monoidal embedding of $\mc H$ into
  $\mc H_{\mathrm{str}}$. By Mac Lane's proof of the coherence theorem for monoidal categories these are
  both strong monoidal functors. 
  
  By inspection these functors also preserve hypergraph
  structure, and so are hypergraph functors.  As they already witness an
  equivalence of symmetric monoidal categories, thus $\mc H$ and $\mc
  H_{\mathrm{str}}$ are equivalent as hypergraph categories.
\end{proof}

\section{Example: cospan categories}

A central example of a hypergraph category is the category $\cospan(\mathcal C)$
of cospans in a category $\mathcal C$ with finite colimits. We call such
categories cospan categories. In the coming chapters we will successively
generalise this structure, first to decorated cospans, then corelations, then
decorated corelations. Each time, the new categories we construct will inherit
hypergraph structure from their relationship with cospan categories.

We first recall the basic definitions. Let $\mc C$ be a category with finite
colimits, writing the coproduct $+$. A \define{cospan}
\[
  \xymatrix{
    & N \\
    X \ar[ur]^{i} && Y \ar[ul]_{o}
  }
\]
from $X$ to $Y$ in $\mathcal C$ is a pair of morphisms with common codomain. We
refer to $X$ and $Y$ as the \define{feet}, and $N$ as the \define{apex}.  Given
two cospans $X \stackrel{i}{\longrightarrow} N \stackrel{o}{\longleftarrow} Y$
and $X \stackrel{i'}{\longrightarrow} N' \stackrel{o'}{\longleftarrow} Y$ with
the same feet, a \define{map of cospans} is a morphism $n\colon  N \to N'$ in
$\mathcal C$ between the apices such that
\[
  \xymatrix{
    & N \ar[dd]^n  \\
    X \ar[ur]^{i} \ar[dr]_{i'} && Y \ar[ul]_{o} \ar[dl]^{o'}\\
    & N'
  }
\]
commutes.

Cospans may be composed using the pushout from the common
foot: given cospans $X \stackrel{i_X}{\longrightarrow} N
\stackrel{o_Y}{\longleftarrow} Y$ and $Y \stackrel{i_Y}{\longrightarrow} M
\stackrel{o_Z}{\longleftarrow} Z$, their composite cospan is $X \xrightarrow{j_N
\circ i_X} N+_YM \xleftarrow{j_M\circ i_Z} Z$,
where the maps $j$ are given by the pushout square in the diagram
\[
  \xymatrix{
    && N+_YM \\
    & N \ar[ur]^{j_N} && M \ar[ul]_{j_M} \\
    \quad X \quad \ar[ur]^{i_X} && Y \ar[ul]_{o_Y} \ar[ur]^{i_Y} && \quad Z
    \quad \ar[ul]_{o_Z}.
  }
\]
This composition rule is associative up to isomorphism, and
so we may define a category, in fact a symmetric monoidal category,
$\mathrm{Cospan}(\mathcal C)$ with objects the objects of $\mathcal C$ and
morphisms isomorphism classes of cospans. 

The symmetric monoidal structure is `inherited' from $\mc C$. Indeed, we shall
consider any category $\mc C$ with finite colimits a symmetric monoidal category
as follows. Given maps $f \maps A \to C$, $g \maps B \to C$ with common
codomain, the universal property of the coproduct gives a unique map $A+B \to
C$. We call this the \define{copairing} of $f$ and $g$, and write it $[f,g]$. The
monoidal product on $\mc C$ is then given by the coproduct $+$, with monoidal
unit the initial object $\varnothing$ and coherence maps given by copairing the
appropriate identity, inclusion, and initial object maps. For example, the
braiding is given by $[\iota_X,\iota_Y]\maps X+Y \to Y+X$ where $\iota_X\maps X
\to Y+X$ and $\iota_Y\maps Y \to Y+X$ are the inclusion maps into the coproduct
$Y+X$.

The category $\mathrm{Cospan(\mathcal C)}$ inherits this symmetric monoidal
structure from $\mathcal C$ as follows. Call a subcategory $\mathcal C$ of a
category $\mathcal D$ \define{wide} if $\mathcal C$ contains all objects of
$\mathcal D$, and call a functor that is faithful and bijective-on-objects a
\define{wide embedding}.  Note then that we have a wide embedding
\[
  \mathcal C \hooklongrightarrow \mathrm{Cospan(\mathcal C)}
\]
that takes each object of $\mathcal C$ to itself as an object of
$\mathrm{Cospan(\mathcal C)}$, and each morphism $f\colon  X \to Y$ in $\mathcal
C$ to the cospan
\[
  \xymatrix{
    & Y \\
    X \ar[ur]^{f} && Y, \ar@{=}[ul]
  }
\]
where the extended `equals' sign denotes an identity morphism. Now since the
monoidal product $+\colon \mathcal C \times \mathcal C \to \mathcal C$ is left
adjoint to the diagonal functor, it preserves colimits, and so extends to a
functor $+\colon \mathrm{Cospan(\mathcal C)} \times \mathrm{Cospan(\mathcal C)}
\to \mathrm{Cospan(\mathcal C)}$. The coherence maps are just the images of the
coherence maps in $\mathcal C$ under this wide embedding; checking naturality is
routine, and clearly they still obey the required axioms.

\begin{remark}
  Recall that all finite colimits in a category $\mc C$ can be assembled from an
  initial object and the use of pushouts \cite{Mac98}. The monoidal category
  $(\cospan(\mc C),+)$ thus provides an excellent setting for describing finite
  colimits in $\mc C$: the initial object is the monoidal unit, and pushouts are
  given by composition of cospans. Rosebrugh, Sabadini, and Walters begin an
  exploration of the consequences of this idea in \cite{RSW08}.
  
  Recall also that coproduct in the category $\Set$ of sets and functions is the
  disjoint union of sets. Colimits often have this sort of intuitive
  interpretation of combining systems, and so are frequently useful for
  discussing interconnection of systems. This intuition is a cornerstone of the
  present work.
\end{remark}

The theory of symmetric monoidal categories of cospans is all well known,
following from theory originally developed for the dual concept: spans. First
discussed by Yoneda \cite{Yon54}, spans are pairs of morphisms $X \leftarrow N
\rightarrow Y$ with a common domain. B\'enabou introduced the bicategory of
objects, spans, and maps of spans in a category with finite limits as an example
of a symmetric monoidal bicategory \cite{Ben67}. The symmetric monoidal category
$\cospan(\mc C)$ is a decategorified version of symmetric monoidal bicategory of
cospans.

More recently, Lack proved that cospans and Frobenius monoids are intimately
related. Write $\FinSet$ for the category of finite sets and functions. This
category is a monoidal category with the coproduct $+$ as monoidal product.
Moreover, as a symmetric monoidal category $(\FinSet,+)$ has a strict skeleton.
In the following proposition $\FinSet$ denotes this strict skeleton.

\begin{proposition} \label{prop.cospanscfm}
  Special commutative Frobenius monoids in a strict symmetric monoidal category
  $\mc C$ are in one-to-one correspondence with strict symmetric monoidal functors
  $\cospan(\FinSet) \to \mc C$.
\end{proposition}
\begin{proof}
  The special commutative Frobenius monoid is given by the image of the one
  element set. See Lack \cite{Lac04}.
\end{proof}

Over the next few chapters we will further explore this deep link between
cospans and special commutative Frobenius monoids and hypergraph categories.
To begin, we detail a hypergraph structure on each cospan category $\cospan(\mc
C)$. 

Like the braiding, this hypergraph structure also comes from copairings of
identity morphisms.  Call cospans 
\[
  \xymatrix{
    & N \\
    X \ar[ur]^{i} && Y \ar[ul]_{o}
  }
  \qquad \xymatrix@R=8pt{\\\textrm{and}} \qquad 
  \xymatrix{
    & N \\
    Y \ar[ur]^{o} && X \ar[ul]_{i}
  }
\]
that are reflections of each other \define{opposite} cospans. Given any object
$X$ in $\mathcal C$, the copairing $[1_X,1_X]\colon  X + X \to X$ of two identity
maps on $X$, together with the unique map $!\colon  \varnothing \to X$ from the
initial object to $X$, define a monoid structure on $X$. Considering these
maps as morphisms in $\mathrm{Cospan(\mathcal C)}$, we may take them together
with their opposites to give a special commutative Frobenius structure on $X$.
Using the universal property of the coproduct, and noting that the Frobenius
maps and the braiding are both given by copairings of identity morphisms, it is
easily verified that this gives a hypergraph category.

Given $f \maps X \to Y$ in $\mc C$, abuse notation by writing $f \in
\mathrm{Cospan}(\mc C)$ for the cospan $X \stackrel{f}\to Y
\stackrel{1_Y}\leftarrow Y$, and $f^\opp$ for the cospan $Y \stackrel{1_Y}\to Y
\stackrel{f}\leftarrow X$. To summarise:

\begin{proposition}
  Given a category $\mc C$ with finite colimits, we may define a hypergraph
  category $\cospan(\mc C)$ as follows:
\smallskip 

  \begin{center}
  \begin{tabular}{ |c| p{.65\textwidth}|}
      \hline
      \multicolumn{2}{|c|}{The hypergraph category $(\mathrm{Cospan(\mc C)},+)$} \\
    \hline
    \textbf{objects} & the objects of $\mathcal C$ \\ 
    \textbf{morphisms} & isomorphism classes of cospans in
    $\mathcal C$\\ 
  \textbf{composition} & given by pushout \\
  \textbf{monoidal product} & the coproduct in $\mathcal C$. \\
  \textbf{coherence maps} & inherited from $(\mc C,+)$\\
  \textbf{hypergraph maps} & $\mu = [1,1]$, $\eta = !$,
  $\delta = [1,1]^\opp$, $\epsilon = !^\opp$. \\
      \hline
  \end{tabular}
\end{center}
\smallskip
\end{proposition}

We will often abuse our terminology and refer to cospans themselves as
morphisms in some cospan category $\mathrm{Cospan}(\mathcal C)$; we of course
refer instead to the isomorphism class of the said cospan.

It is not difficult to show that we in fact have a functor from the category
having categories with finite colimits as objects and colimit preserving
functors as morphisms to the category of hypergraph categories and hypergraph
functors.\footnote{Categories with finite colimits are known as \emph{finitely
cocomplete}, or (rarely) \emph{rex} or \emph{right exact}, while functors that
preserve finite colimits are known as \emph{finitely cocontinuous} or
\emph{right exact}. This extra layer of terminology is not necessary here, and
so we favour the more friendly, if occasionally a touch cumbersome, terms
above.} In the next chapter we show that this extends to a functor from a
category of so-called symmetric lax monoidal presheaves over categories with
finite colimits. This is known as the decorated cospans construction, and will
be instrumental in constructing hypergraph categories with network diagrams as
morphisms.

%Walters: cospan graph is the generic special commutative Frobenius monoid.  The
%free hypergraph category on a single object in the category of cospans in the
%category of finite sets.




%\begin{proposition}
%  The monoidal product in a hypergraph category is a coproduct for something if
%  and only if every morphism is a Frobenius monoid homomorphism. (ie take
%  subcategory of all objects, monoid maps, and monoid homs. This is cocomplete.)
%\end{proposition}
%Clearly not true for circuits for example.

